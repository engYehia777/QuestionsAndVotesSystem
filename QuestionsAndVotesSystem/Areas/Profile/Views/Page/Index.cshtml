@model IEnumerable<QuestionsAndVotesSystem.Api.Model.Page>

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Profile/Views/Shared/_ProfileLayout.cshtml";
}
<!-- DataTables -->
<link href="~/Areas/Profile/bower_components/datatables.net-bs/css/dataTables.bootstrap.css" rel="stylesheet" />

<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Pages Manager
        <small>Optional description</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="~/Profile/home/Index"><i class="fa fa-dashboard"></i> dashboard</a></li>
        <li class="active">Pages</li>
    </ol>
</section><br />

<p>
    @{Html.RenderAction("Links", "authorization",
                                     new { URl = "/Profile/Page/Create", ID = "kl", type = "A" }
                                     );
    }
</p>
<table id="pagTbl" class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Icone)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ControlName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ParentID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ToolTip)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.URL)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Sort)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IsActive)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Icone)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ControlName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ParentID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ToolTip)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.URL)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Sort)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.IsActive)
                </td>
                <td>
                    @{
                        string pageId = item.ID.ToString();
                        Html.RenderAction("Links", "authorization", new { URl = "/Profile/Page/Edit/" + pageId, ID = "kl", type = "U" });
                        //Html.RenderAction("Links", "authorization", new { URl = "/Profile/Page/Details/" + pageId, ID = "kl", type = "E" });
                        //Html.RenderAction("Links", "authorization", new { URl = "/Profile/Page/Delete/" + pageId, ID = "kl", type = "D" });
                    }
                </td>
            </tr>

        }
    </tbody>



</table>


<!-- DataTables -->


@section scripts{
    <script src="~/Areas/Profile/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="~/Areas/Profile/bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script>

        $(document).ready(function () {
            $('#pagTbl').DataTable({
                'paging': true,
                'lengthChange': false,
                'searching': true,
                'ordering': true,
                'info': true,
                'autoWidth': false
            });
        });

    </script>
}

